(function(a,b){define([],function(){var a={},b="data",c=function(a){return JSON.stringify(a)},d=function(a){var b=a.split("."),d=b.map(c);return"["+d.join("][")+"]"},e=a.operators={};return e[""]=e.eq=function(a,b){var e,f=arguments.callee;if(a.constructor===String||a.constructor===Number||a.constructor===Boolean)e=b+"==="+c(a);else if(a instanceof Array){e=b+".length==="+a.length;for(var g=0,h=a.length;g<h;g++)e+="&&"+f(a[g],b+"["+g+"]")}else e="Object.keys("+b+").length==="+Object.keys(a).length,Object.keys(a).forEach(function(c){e+="&&"+f(a[c],b+d(c))});return e},e.ne=function(a,b){var c=e.eq(a,b);return"!("+c+")"},e.lt=function(a,b){return b+"<"+c(a)},e.lte=function(a,b){return b+"<="+c(a)},e.gt=function(a,b){return b+">"+c(a)},e.gte=function(a,b){return b+">="+c(a)},a.generate=function(a){var c="return true";return Object.keys(a).forEach(function(f){var g=a[f];if(g.constructor===String||g.constructor===Number||g.constructor===Boolean)""in e&&(c+="&&"+e[""](g,b+d(f)));else{var h=!1;Object.keys(g).forEach(function(a){if(a.indexOf("$")===0){h=!0;var i=a.substr(1);i in e&&(c+="&&"+e[i](g[a],b+d(f)))}}),h||(c+="&&"+e[""](g,b+d(f)))}}),c+=";",new Function(b,c)},a})})(this)